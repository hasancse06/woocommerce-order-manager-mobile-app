<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="orders"></ion-back-button>
  </ion-buttons>
    <ion-title style="text-align: center;">
      Order Details
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-row>
        <ion-col size="12">
        <div *ngIf="!order" class="spinnerSection" style="text-align: center;">
            <ion-spinner name="lines"></ion-spinner>
        </div>
      </ion-col>
      <ion-col size-lg="12" size-xs="12" *ngIf="order">
        <ion-row class="orderContainer">
          <ion-col size-lg="12" size-xs="12">
            <ion-row>
              <ion-col size-lg="12" size-xs="12">
                <p class="orderItemsLabel"><strong>Order#{{ order.id }} / </strong>Order Items</p>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size-lg="4" size-xs="6"><strong>Item Name</strong></ion-col>
              <ion-col size-lg="4" size-xs="4"><strong>Price</strong></ion-col>
              <ion-col size-lg="4" size-xs="2"><strong>Qty</strong></ion-col>
            </ion-row>
            <ion-row *ngFor="let item of order.line_items" class="orderItems">
              <ion-col size-lg="4" size-xs="6" [innerHTML]="item.name"></ion-col>
              <ion-col size-lg="4" size-xs="4">KYD ${{item.price}}</ion-col>
              <ion-col size-lg="4" size-xs="2">{{item.quantity}}</ion-col>
            </ion-row>
            
            <ion-row class="orderTotalDetails">
              <ion-col size-lg="12" size-xs="12">Order Total: KYD ${{order.total}}</ion-col>
               <ion-col size-lg="12" size-xs="12">Payment Method: {{ order.payment_method_title}}</ion-col>

                <ion-col size-lg="12" size-xs="12">
                  <ion-row *ngIf="order.status == 'pending'">
                    <strong>Order Status: &nbsp;</strong> Pending Payment
                  </ion-row>
                  <ion-row *ngIf="order.status == 'completed'">
                    <strong>Order Status: &nbsp;</strong> Completed
                  </ion-row>
                  <ion-row *ngIf="order.status == 'processing'">
                    <strong>Order Status: &nbsp;</strong> Processing
                  </ion-row>
                  <ion-row *ngIf="order.status == 'failed'">
                    <strong>Order Status: &nbsp;</strong> Failed
                  </ion-row>
                  <ion-row *ngIf="order.status == 'refunded'">
                    <strong>Order Status: &nbsp;</strong> Refunded
                  </ion-row>
                  <ion-row *ngIf="order.status == 'cancelled'">
                    <strong>Order Status: &nbsp;</strong> Cancelled
                  </ion-row>
                  <ion-row *ngIf="order.status == 'on-hold'">
                    <strong>Order Status: &nbsp;</strong> On Hold
                  </ion-row>
                </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size-lg="12" size-xs="12">
                <p class="orderItemsLabel"><strong>Update Order Status</strong></p>
              </ion-col>

              <ion-col size-lg="12" size-xs="12">
                <ion-select 
                  [(ngModel)]= orderStatus
                  name="orderStatus" 
                  multiple="false" 
                  placeholder="Please Select..." 
                  (ionChange)="getOrderStatus($event)" required>

                  <ion-select-option value="pending">Pending Payment</ion-select-option>
                  <ion-select-option value="completed">Completed</ion-select-option>
                  <ion-select-option value="processing">Processing</ion-select-option>
                  <ion-select-option value="failed">Failed</ion-select-option>
                  <ion-select-option value="refunded">Refunded</ion-select-option>
                  <ion-select-option value="cancelled">Cancelled</ion-select-option>
                  <ion-select-option value="on-hold">On Hold</ion-select-option>

                </ion-select>
              </ion-col>

              <ion-col size-lg="12" size-xs="12">
                  <ion-button expand="block" [disabled]="disableBtn" (click)="updateOrderStatus()"
                  ><span><strong>Update Now</strong></span
                  ><span *ngIf="spinner"><ion-spinner name="lines"></ion-spinner></span
                ></ion-button>
              </ion-col>
            </ion-row>

          </ion-col>
       </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>

<ion-grid>
  

</ion-grid>

</ion-content>